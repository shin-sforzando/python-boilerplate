pre-commit:
  commands:
    python-format:
      glob: "*.py"
      run: make format OPTS="--check"
    python-lint:
      glob: "*.py"
      run: make lint
    pytest:
      glob: "*.py"
      run: make test
    sphinx:
      glob: "*.py"
      run: make sphinx

pre-push:
  parallel: true
  commands:
    secretlint:
      run: docker run --platform linux/amd64 -v `pwd`:`pwd` -w `pwd` --rm -it secretlint/secretlint secretlint "**/*"
